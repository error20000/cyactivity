接口文档
================================

[TOC]


## 1、查询配置信息


### 1.1、奖励档位


* **请求地址**

> /wb/tpl0612/gift/type/all

* **请求方式**

> get

* **请求参数**



* **返回字段**

|参数|描述|
|:------|:------|
|pid|主键|
|name|奖励档位的名称|
|num|奖励达成人数|


* **接口示例**

```javascript

 {
 	"code": 20000, // 20000 表示成功
 	"msg": "成功",
 	"data": [{
 		"pid":"",
 		"name":"",
 		"num":"",
 	},....]
 }
 
```
### 1.2、奖励档位的奖品表


* **请求地址**

> /wb/tpl0612/gift/item/all

* **请求方式**

> get

* **请求参数**



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|data|数据集。|
|数据字段||
|type|文件后缀名|
|size|文件大小（byte）|
|name|上传后名称|
|path|上传后路径|



* **接口示例**

> http://127.0.0.1:8085/api/file/uploadFile

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"data": {
 		"type":"",
 		"size":"",
 		"name":"",
 		"path":"",
 	}
 }
 
```
## 3、申请列表


### 3.1、新增

> 需登录认证

* **请求地址**

> /api/itemsApply/add

* **请求方式**

> ALL

* **请求参数**

|参数|必选|类型|描述|
|:------|:------|:------|:------|
|items|是|int|申请物品Pid|
|desc|是|String|申请描述|
|start|是|String|开始时间|
|end|是|String|结束时间|



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|data|自增id或受影响条数。|



* **接口示例**

> http://127.0.0.1:8085/api/itemsApply/add

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"data": 1
 }
 
```
## 4、物品列表


### 4.1、删除

> 需登录认证

* **请求地址**

> /api/items/delete

* **请求方式**

> ALL

* **请求参数**

|参数|必选|类型|描述|
|:------|:------|:------|:------|
|pid|是|int|自增主键|



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|data|受影响条数。|



* **接口示例**

> http://127.0.0.1:8085/api/items/delete

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"data": 1
 }
 
```
### 4.2、分页查询所有

> 需登录认证

* **请求地址**

> /api/items/findPage

* **请求方式**

> ALL

* **请求参数**

|参数|必选|类型|描述|
|:------|:------|:------|:------|
|page|是|int|页码，从1开始。|
|rows|是|int|每页条数。|
|startDate|否|String|开始日期|
|endDate|否|String|结束日期|
|pid|否|int|自增主键|
|type|否|int|物品分类|
|name|否|String|物品名称|
|date|否|String|日期|
|desc|否|String|物品描述|
|pic|否|String|物品图片|
|staffId|否|String|工号|
|nick|否|String|发布人|
|location|否|String|位置|
|status|否|int|状态   0：关闭，1：闲置，2：借出|



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|total|总条数|
|data|数据集。|
|数据字段||
|pid|自增主键|
|type|物品分类|
|name|物品名称|
|date|日期|
|desc|物品描述|
|pic|物品图片|
|staffId|工号|
|nick|发布人|
|department|发布人部门|
|location|位置|
|status|状态   0：关闭，1：闲置，2：借出|
|applyNum|申请数量|
|apply|申请信息|
|申请信息字段||
|date|申请日期|
|staffId|申请工号|
|nick|申请人|
|department|申请人部门|



* **接口示例**

> http://127.0.0.1:8085/api/items/findPage

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"total": 0,
 	"data": [{
 		"pid":"",
 		"type":"",
 		"name":"",
 		"date":"",
 		"desc":"",
 		"pic":"",
 		"staffId":"",
 		"nick":"",
 		"department":"",
 		"location":"",
 		"status":"",
 		"applyNum":"",
 		"apply":{
 			"date":"",
 			"staffId":"",
 			"nick":"",
 			"department":"",
 		},
 	},...]
 }
 
```
### 4.3、登录用户的物品

> 需登录认证

* **请求地址**

> /api/items/page

* **请求方式**

> ALL

* **请求参数**

|参数|必选|类型|描述|
|:------|:------|:------|:------|
|page|是|int|页码，从1开始。|
|rows|是|int|每页条数。|
|startDate|否|String|开始日期|
|endDate|否|String|结束日期|
|pid|否|int|自增主键|
|type|否|int|物品分类|
|name|否|String|物品名称|
|date|否|String|日期|
|desc|否|String|物品描述|
|pic|否|String|物品图片|
|staffId|否|String|工号|
|nick|否|String|发布人|
|location|否|String|位置|
|status|否|int|状态   0：关闭，1：闲置，2：借出|



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|total|总条数|
|data|数据集。|
|数据字段||
|pid|自增主键|
|type|物品分类|
|name|物品名称|
|date|日期|
|desc|物品描述|
|pic|物品图片|
|staffId|工号|
|nick|发布人|
|department|发布人部门|
|location|位置|
|status|状态   0：关闭，1：闲置，2：借出|
|applyNum|申请数量|
|apply|申请信息|
|申请信息字段||
|date|申请日期|
|staffId|申请工号|
|nick|申请人|
|department|申请人部门|



* **接口示例**

> http://127.0.0.1:8085/api/items/page

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"total": 0,
 	"data": [{
 		"pid":"",
 		"type":"",
 		"name":"",
 		"date":"",
 		"desc":"",
 		"pic":"",
 		"staffId":"",
 		"nick":"",
 		"department":"",
 		"location":"",
 		"status":"",
 		"applyNum":"",
 		"apply":{
 			"date":"",
 			"staffId":"",
 			"nick":"",
 			"department":"",
 		},
 	},...]
 }
 
```
### 4.4、闲置或关闭物品

> 需登录认证

* **请求地址**

> /api/items/status

* **请求方式**

> ALL

* **请求参数**

|参数|必选|类型|描述|
|:------|:------|:------|:------|
|pid|是|int|自增主键|
|status|否|int|状态   0：关闭，1：闲置，2：借出|



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|data|受影响条数。|



* **接口示例**

> http://127.0.0.1:8085/api/items/status

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"data": 1
 }
 
```
### 4.5、修改

> 需登录认证

* **请求地址**

> /api/items/update

* **请求方式**

> ALL

* **请求参数**

|参数|必选|类型|描述|
|:------|:------|:------|:------|
|pid|是|int|自增主键|
|type|否|int|物品分类|
|name|否|String|物品名称|
|desc|否|String|物品描述|
|pic|否|String|物品图片|
|location|否|String|位置|
|status|否|int|状态   0：关闭，1：闲置，2：借出|



* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|data|受影响条数。|



* **接口示例**

> http://127.0.0.1:8085/api/items/update

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"data": 1
 }
 
```
## 5、物品分类


### 5.1、查询所有


* **请求地址**

> /api/itemsType/all

* **请求方式**

> ALL

* **返回字段**

|参数|描述|
|:------|:------|
|code|错误码，大于0表示成功，小于 0 表示失败。[错误码说明](#错误码说明)|
|msg|错误消息 ，code 小于 0 时的具体错误信息。|
|data|数据集。|
|数据字段||
|pid|自增主键|
|name|名称|
|status|状态  0：禁用，1：启用|



* **接口示例**

> http://127.0.0.1:8085/api/itemsType/all

```javascript

 {
 	"code": 1,
 	"msg": "成功",
 	"data": [{
 		"pid":"",
 		"name":"",
 		"status":"",
 	},...]
 }
 
```

## 错误码说明


|错误码|描述|
|:------|:------|
|1|成功 |
|0|失败 |
|-100|系统错误|
|-101|保存失败，{param}|
|-102|修改失败，{param}|
|-103|查询失败，{param}|
|-104|删除失败，{param}|
|-105|{param}已存在|
|-106|{param}不存在|
|-107|{param}被封禁|
|-108|{param}登录失败|
|-109|用户名错误|
|-110|密码错误|
|-111|未登录|
|-112|文件上传失败|
|-113|{param}生成失败|
|-114|{param}失败|
|-200|{param}无效/不合法|
|-201|没有权限|
|-202|{param}参数错误|
|-203|{param}效验失败|
|-204|图形验证码不正确|
|-205|短信验证码不正确|
|-206|缺少{param}参数 |
|-207|图形验证码已过期|
|-208|短信验证码已过期|
|-209|{param}超时|
|-210|{param}超过限制|
|-211|{param}不能为空|
|-212|不支持该格式|
|-213|{param}不正确|
|-214|{param}已过期|
|-300|不在活动时间段|
|-301|活动未开始|
|-302|活动已结束|
|-303|已参加过|
|-304|次数已用完|
|-305|解析JSON/XML内容错误|
|-306|解析错误|
|-307|需提供图形验证码|
|-308|已发送，稍后再试|
|-309|礼包码已用完|
|-310|没有配置邮件|
|-311|邮件内容没有配置,或没启用|
|-312|没有配置短信|
|-313|短信内容没有配置,或没启用|
|-314|短信验证码没有配置,或没启用|

